function StringBuffer(){this.buffer=[]}StringBuffer.prototype.append=function(b){this.buffer.push(b);return this};StringBuffer.prototype.toString=function(){return this.buffer.join("")};
var Base64={codex:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(b){var c=new StringBuffer;for(b=new Utf8EncodeEnumerator(b);b.moveNext();){var g=b.current;b.moveNext();var h=b.current;b.moveNext();var j=b.current,m=g>>2,g=(g&3)<<4|h>>4,v=(h&15)<<2|j>>6,r=j&63;isNaN(h)?v=r=64:isNaN(j)&&(r=64);c.append(this.codex.charAt(m)+this.codex.charAt(g)+this.codex.charAt(v)+this.codex.charAt(r))}return c.toString()},decode:function(b){var c=new StringBuffer;for(b=new Base64DecodeEnumerator(b);b.moveNext();){var g=
b.current;if(128>g)c.append(String.fromCharCode(g));else if(191<g&&224>g){b.moveNext();var h=b.current;c.append(String.fromCharCode((g&31)<<6|h&63))}else b.moveNext(),h=b.current,b.moveNext(),c.append(String.fromCharCode((g&15)<<12|(h&63)<<6|b.current&63))}return c.toString()}};function Utf8EncodeEnumerator(b){this._input=b;this._index=-1;this._buffer=[]}
Utf8EncodeEnumerator.prototype={current:Number.NaN,moveNext:function(){if(0<this._buffer.length)return this.current=this._buffer.shift(),!0;if(this._index>=this._input.length-1)return this.current=Number.NaN,!1;var b=this._input.charCodeAt(++this._index);13==b&&10==this._input.charCodeAt(this._index+1)&&(b=10,this._index+=2);128>b?this.current=b:(127<b&&2048>b?this.current=b>>6|192:(this.current=b>>12|224,this._buffer.push(b>>6&63|128)),this._buffer.push(b&63|128));return!0}};
function Base64DecodeEnumerator(b){this._input=b;this._index=-1;this._buffer=[]}
Base64DecodeEnumerator.prototype={current:64,moveNext:function(){if(0<this._buffer.length)return this.current=this._buffer.shift(),!0;if(this._index>=this._input.length-1)return this.current=64,!1;var b=Base64.codex.indexOf(this._input.charAt(++this._index)),c=Base64.codex.indexOf(this._input.charAt(++this._index)),g=Base64.codex.indexOf(this._input.charAt(++this._index)),h=Base64.codex.indexOf(this._input.charAt(++this._index)),j=(g&3)<<6|h;this.current=b<<2|c>>4;64!=g&&this._buffer.push((c&15)<<
4|g>>2);64!=h&&this._buffer.push(j);return!0}};var Handlebars={};
(function(b,c){b.VERSION="1.0.0-rc.3";b.COMPILER_REVISION=3;b.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:">= 1.0.0-rc.4"};b.helpers={};b.partials={};var g=Object.prototype.toString;b.registerHelper=function(a,e,k){if("[object Object]"===g.call(a)){if(k||e)throw new b.Exception("Arg not supported with multiple helpers");b.Utils.extend(this.helpers,a)}else k&&(e.not=k),this.helpers[a]=e};b.registerPartial=function(a,e){"[object Object]"===g.call(a)?b.Utils.extend(this.partials,a):this.partials[a]=
e};b.registerHelper("helperMissing",function(a){if(2===arguments.length)return c;throw Error("Could not find property '"+a+"'");});b.registerHelper("blockHelperMissing",function(a,e){var k=e.inverse||function(){},d=e.fn,c=g.call(a);"[object Function]"===c&&(a=a.call(this));return!0===a?d(this):!1===a||null==a?k(this):"[object Array]"===c?0<a.length?b.helpers.each(a,e):k(this):d(a)});b.K=function(){};b.createFrame=Object.create||function(a){b.K.prototype=a;a=new b.K;b.K.prototype=null;return a};b.logger=
{DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{"0":"debug",1:"info",2:"warn",3:"error"},log:function(a,e){if(b.logger.level<=a){var k=b.logger.methodMap[a];"undefined"!==typeof console&&console[k]&&console[k].call(console,e)}}};b.log=function(a,e){b.logger.log(a,e)};b.registerHelper("each",function(a,e){var k=e.fn,d=e.inverse,c=0,f="",g;e.data&&(g=b.createFrame(e.data));if(a&&"object"===typeof a)if(a instanceof Array)for(var h=a.length;c<h;c++)g&&(g.index=c),f+=k(a[c],{data:g});else for(h in a)a.hasOwnProperty(h)&&
(g&&(g.key=h),f+=k(a[h],{data:g}),c++);0===c&&(f=d(this));return f});b.registerHelper("if",function(a,e){"[object Function]"===g.call(a)&&(a=a.call(this));return!a||b.Utils.isEmpty(a)?e.inverse(this):e.fn(this)});b.registerHelper("unless",function(a,e){return b.helpers["if"].call(this,a,{fn:e.inverse,inverse:e.fn})});b.registerHelper("with",function(a,e){if(!b.Utils.isEmpty(a))return e.fn(a)});b.registerHelper("log",function(a,e){var k=e.data&&null!=e.data.level?parseInt(e.data.level,10):1;b.log(k,
a)});var h;h=function(){this.yy={}};var j={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,partialName:25,params:26,hash:27,DATA:28,param:29,STRING:30,INTEGER:31,BOOLEAN:32,hashSegments:33,hashSegment:34,ID:35,EQUALS:36,PARTIAL_NAME:37,
pathSegments:38,SEP:39,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",28:"DATA",30:"STRING",31:"INTEGER",32:"BOOLEAN",35:"ID",36:"EQUALS",37:"PARTIAL_NAME",39:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[26,
2],[26,1],[29,1],[29,1],[29,1],[29,1],[29,1],[27,1],[33,2],[33,1],[34,3],[34,3],[34,3],[34,3],[34,3],[25,1],[21,1],[38,3],[38,1]],performAction:function(a,e,b,d,c,f){a=f.length-1;switch(c){case 1:return f[a-1];case 2:this.$=new d.ProgramNode([],f[a]);break;case 3:this.$=new d.ProgramNode(f[a-2],f[a]);break;case 4:this.$=new d.ProgramNode(f[a-1],[]);break;case 5:this.$=new d.ProgramNode(f[a]);break;case 6:this.$=new d.ProgramNode([],[]);break;case 7:this.$=new d.ProgramNode([]);break;case 8:this.$=
[f[a]];break;case 9:f[a-1].push(f[a]);this.$=f[a-1];break;case 10:this.$=new d.BlockNode(f[a-2],f[a-1].inverse,f[a-1],f[a]);break;case 11:this.$=new d.BlockNode(f[a-2],f[a-1],f[a-1].inverse,f[a]);break;case 12:this.$=f[a];break;case 13:this.$=f[a];break;case 14:this.$=new d.ContentNode(f[a]);break;case 15:this.$=new d.CommentNode(f[a]);break;case 16:this.$=new d.MustacheNode(f[a-1][0],f[a-1][1]);break;case 17:this.$=new d.MustacheNode(f[a-1][0],f[a-1][1]);break;case 18:this.$=f[a-1];break;case 19:this.$=
new d.MustacheNode(f[a-1][0],f[a-1][1]);break;case 20:this.$=new d.MustacheNode(f[a-1][0],f[a-1][1],!0);break;case 21:this.$=new d.PartialNode(f[a-1]);break;case 22:this.$=new d.PartialNode(f[a-2],f[a-1]);break;case 24:this.$=[[f[a-2]].concat(f[a-1]),f[a]];break;case 25:this.$=[[f[a-1]].concat(f[a]),null];break;case 26:this.$=[[f[a-1]],f[a]];break;case 27:this.$=[[f[a]],null];break;case 28:this.$=[[new d.DataNode(f[a])],null];break;case 29:f[a-1].push(f[a]);this.$=f[a-1];break;case 30:this.$=[f[a]];
break;case 31:this.$=f[a];break;case 32:this.$=new d.StringNode(f[a]);break;case 33:this.$=new d.IntegerNode(f[a]);break;case 34:this.$=new d.BooleanNode(f[a]);break;case 35:this.$=new d.DataNode(f[a]);break;case 36:this.$=new d.HashNode(f[a]);break;case 37:f[a-1].push(f[a]);this.$=f[a-1];break;case 38:this.$=[f[a]];break;case 39:this.$=[f[a-2],f[a]];break;case 40:this.$=[f[a-2],new d.StringNode(f[a])];break;case 41:this.$=[f[a-2],new d.IntegerNode(f[a])];break;case 42:this.$=[f[a-2],new d.BooleanNode(f[a])];
break;case 43:this.$=[f[a-2],new d.DataNode(f[a])];break;case 44:this.$=new d.PartialNameNode(f[a]);break;case 45:this.$=new d.IdNode(f[a]);break;case 46:f[a-2].push(f[a]);this.$=f[a-2];break;case 47:this.$=[f[a]]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],24:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],24:[1,16]},{5:[2,5],6:20,8:21,9:7,
11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],24:[1,16]},{17:23,18:[1,22],21:24,28:[1,25],35:[1,27],38:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{4:28,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],24:[1,16]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],24:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],
19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{17:30,21:24,28:[1,25],35:[1,27],38:26},{17:31,21:24,28:[1,25],35:[1,27],38:26},{17:32,21:24,28:[1,25],35:[1,27],38:26},{25:33,37:[1,34]},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,
14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],24:[1,16]},{17:23,21:24,28:[1,25],35:[1,27],38:26},{5:[2,4],7:35,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],24:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],24:[2,23]},{18:[1,36]},{18:[2,27],21:41,26:37,27:38,28:[1,45],29:39,30:[1,42],31:[1,43],32:[1,44],33:40,
34:46,35:[1,47],38:26},{18:[2,28]},{18:[2,45],28:[2,45],30:[2,45],31:[2,45],32:[2,45],35:[2,45],39:[1,48]},{18:[2,47],28:[2,47],30:[2,47],31:[2,47],32:[2,47],35:[2,47],39:[2,47]},{10:49,20:[1,50]},{10:51,20:[1,50]},{18:[1,52]},{18:[1,53]},{18:[1,54]},{18:[1,55],21:56,35:[1,27],38:26},{18:[2,44],35:[2,44]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],24:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},
{18:[2,25],21:41,27:57,28:[1,45],29:58,30:[1,42],31:[1,43],32:[1,44],33:40,34:46,35:[1,47],38:26},{18:[2,26]},{18:[2,30],28:[2,30],30:[2,30],31:[2,30],32:[2,30],35:[2,30]},{18:[2,36],34:59,35:[1,60]},{18:[2,31],28:[2,31],30:[2,31],31:[2,31],32:[2,31],35:[2,31]},{18:[2,32],28:[2,32],30:[2,32],31:[2,32],32:[2,32],35:[2,32]},{18:[2,33],28:[2,33],30:[2,33],31:[2,33],32:[2,33],35:[2,33]},{18:[2,34],28:[2,34],30:[2,34],31:[2,34],32:[2,34],35:[2,34]},{18:[2,35],28:[2,35],30:[2,35],31:[2,35],32:[2,35],35:[2,
35]},{18:[2,38],35:[2,38]},{18:[2,47],28:[2,47],30:[2,47],31:[2,47],32:[2,47],35:[2,47],36:[1,61],39:[2,47]},{35:[1,62]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{21:63,35:[1,27],38:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,
20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],24:[2,21]},{18:[1,64]},{18:[2,24]},{18:[2,29],28:[2,29],30:[2,29],31:[2,29],32:[2,29],35:[2,29]},{18:[2,37],35:[2,37]},{36:[1,61]},{21:65,28:[1,69],30:[1,66],31:[1,67],32:[1,68],35:[1,27],38:26},{18:[2,46],28:[2,46],30:[2,46],31:[2,46],32:[2,46],35:[2,46],39:[2,46]},{18:[1,70]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],
22:[2,22],23:[2,22],24:[2,22]},{18:[2,39],35:[2,39]},{18:[2,40],35:[2,40]},{18:[2,41],35:[2,41]},{18:[2,42],35:[2,42]},{18:[2,43],35:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]}],defaultActions:{17:[2,1],25:[2,28],38:[2,26],57:[2,24]},parseError:function(a){throw Error(a);},parse:function(a){var e=[0],b=[null],d=[],c=this.table,f="",g=0,h=0,j=0;this.lexer.setInput(a);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;"undefined"==
typeof this.lexer.yylloc&&(this.lexer.yylloc={});a=this.lexer.yylloc;d.push(a);var m=this.lexer.options&&this.lexer.options.ranges;"function"===typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var l,q,s,n,u={},r,p;;){s=e[e.length-1];if(this.defaultActions[s])n=this.defaultActions[s];else{if(null===l||"undefined"==typeof l)l=this.lexer.lex()||1,"number"!==typeof l&&(l=this.symbols_[l]||l);n=c[s]&&c[s][l]}if("undefined"===typeof n||!n.length||!n[0]){var t="";if(!j){p=[];for(r in c[s])this.terminals_[r]&&
2<r&&p.push("'"+this.terminals_[r]+"'");t=this.lexer.showPosition?"Parse error on line "+(g+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+p.join(", ")+", got '"+(this.terminals_[l]||l)+"'":"Parse error on line "+(g+1)+": Unexpected "+(1==l?"end of input":"'"+(this.terminals_[l]||l)+"'");this.parseError(t,{text:this.lexer.match,token:this.terminals_[l]||l,line:this.lexer.yylineno,loc:a,expected:p})}}if(n[0]instanceof Array&&1<n.length)throw Error("Parse Error: multiple actions possible at state: "+
s+", token: "+l);switch(n[0]){case 1:e.push(l);b.push(this.lexer.yytext);d.push(this.lexer.yylloc);e.push(n[1]);l=null;q?(l=q,q=null):(h=this.lexer.yyleng,f=this.lexer.yytext,g=this.lexer.yylineno,a=this.lexer.yylloc,0<j&&j--);break;case 2:p=this.productions_[n[1]][1];u.$=b[b.length-p];u._$={first_line:d[d.length-(p||1)].first_line,last_line:d[d.length-1].last_line,first_column:d[d.length-(p||1)].first_column,last_column:d[d.length-1].last_column};m&&(u._$.range=[d[d.length-(p||1)].range[0],d[d.length-
1].range[1]]);s=this.performAction.call(u,f,h,g,this.yy,n[1],b,d);if("undefined"!==typeof s)return s;p&&(e=e.slice(0,-2*p),b=b.slice(0,-1*p),d=d.slice(0,-1*p));e.push(this.productions_[n[1]][0]);b.push(u.$);d.push(u._$);n=c[e[e.length-2]][e[e.length-1]];e.push(n);break;case 3:return!0}}return!0},lexer:{EOF:1,parseError:function(a,e){if(this.yy.parser)this.yy.parser.parseError(a,e);else throw Error(a);},setInput:function(a){this._input=a;this._more=this._less=this.done=!1;this.yylineno=this.yyleng=
0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};this.options.ranges&&(this.yylloc.range=[0,0]);this.offset=0;return this},input:function(){var a=this._input[0];this.yytext+=a;this.yyleng++;this.offset++;this.match+=a;this.matched+=a;a.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++;this.options.ranges&&this.yylloc.range[1]++;this._input=this._input.slice(1);return a},
unput:function(a){var e=a.length,b=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-e-1);this.offset-=e;a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);b.length-1&&(this.yylineno-=b.length-1);var d=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:b?(b.length===
a.length?this.yylloc.first_column:0)+a[a.length-b.length].length-b[0].length:this.yylloc.first_column-e};this.options.ranges&&(this.yylloc.range=[d[0],d[0]+this.yyleng-e]);return this},more:function(){this._more=!0;return this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(20<a.length?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;20>a.length&&(a+=this._input.substr(0,
20-a.length));return(a.substr(0,20)+(20<a.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),e=Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,e,b;this._more||(this.match=this.yytext="");for(var d=this._currentRules(),c=0;c<d.length;c++)if((e=this._input.match(this.rules[d[c]]))&&(!a||e[0].length>a[0].length))if(a=e,b=c,!this.options.flex)break;if(a){if(e=a[0].match(/(?:\r\n?|\n).*/g))this.yylineno+=
e.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+a[0].length};this.yytext+=a[0];this.match+=a[0];this.matches=a;this.yyleng=this.yytext.length;this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]);this._more=!1;this._input=this._input.slice(a[0].length);this.matched+=a[0];a=this.performAction.call(this,this.yy,
this,d[b],this.conditionStack[this.conditionStack.length-1]);this.done&&this._input&&(this.done=!1);if(a)return a}else return""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!==typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-
1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)},options:{},performAction:function(a,e,b){switch(b){case 0:return e.yytext="\\",14;case 1:"\\"!==e.yytext.slice(-1)&&this.begin("mu");"\\"===e.yytext.slice(-1)&&(e.yytext=e.yytext.substr(0,e.yyleng-1),this.begin("emu"));if(e.yytext)return 14;break;case 2:return 14;case 3:return"\\"!==e.yytext.slice(-1)&&this.popState(),"\\"===e.yytext.slice(-1)&&(e.yytext=e.yytext.substr(0,
e.yyleng-1)),14;case 4:return e.yytext=e.yytext.substr(0,e.yyleng-4),this.popState(),15;case 5:return this.begin("par"),24;case 6:return 16;case 7:return 20;case 8:return 19;case 9:return 19;case 10:return 23;case 11:return 23;case 12:this.popState();this.begin("com");break;case 13:return e.yytext=e.yytext.substr(3,e.yyleng-5),this.popState(),15;case 14:return 22;case 15:return 36;case 16:return 35;case 17:return 35;case 18:return 39;case 20:return this.popState(),18;case 21:return this.popState(),
18;case 22:return e.yytext=e.yytext.substr(1,e.yyleng-2).replace(/\\"/g,'"'),30;case 23:return e.yytext=e.yytext.substr(1,e.yyleng-2).replace(/\\'/g,"'"),30;case 24:return e.yytext=e.yytext.substr(1),28;case 25:return 32;case 26:return 32;case 27:return 31;case 28:return 35;case 29:return e.yytext=e.yytext.substr(1,e.yyleng-2),35;case 30:return"INVALID";case 32:return this.popState(),37;case 33:return 5}},rules:[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,
/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@[a-zA-Z]+)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[a-zA-Z0-9_$:-]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:\s+)/,/^(?:[a-zA-Z0-9_$-\/]+)/,/^(?:$)/],
conditions:{mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,33],inclusive:!1},emu:{rules:[3],inclusive:!1},com:{rules:[4],inclusive:!1},par:{rules:[31,32],inclusive:!1},INITIAL:{rules:[0,1,2,33],inclusive:!0}}}};h.prototype=j;j.Parser=h;h=new h;b.Parser=h;b.parse=function(a){if(a.constructor===b.AST.ProgramNode)return a;b.Parser.yy=b.AST;return b.Parser.parse(a)};b.AST={};b.AST.ProgramNode=function(a,e){this.type="program";this.statements=a;e&&(this.inverse=new b.AST.ProgramNode(e))};
b.AST.MustacheNode=function(a,e,b){this.type="mustache";this.escaped=!b;this.hash=e;b=this.id=a[0];a=this.params=a.slice(1);this.isHelper=(this.eligibleHelper=b.isSimple)&&(a.length||e)};b.AST.PartialNode=function(a,e){this.type="partial";this.partialName=a;this.context=e};b.AST.BlockNode=function(a,e,k,d){var c=a.id;if(c.original!==d.original)throw new b.Exception(c.original+" doesn't match "+d.original);this.type="block";this.mustache=a;this.program=e;if((this.inverse=k)&&!this.program)this.isInverse=
!0};b.AST.ContentNode=function(a){this.type="content";this.string=a};b.AST.HashNode=function(a){this.type="hash";this.pairs=a};b.AST.IdNode=function(a){this.type="ID";this.original=a.join(".");for(var e=[],k=0,d=0,c=a.length;d<c;d++){var f=a[d];if(".."===f||"."===f||"this"===f){if(0<e.length)throw new b.Exception("Invalid path: "+this.original);".."===f?k++:this.isScoped=!0}else e.push(f)}this.parts=e;this.string=e.join(".");this.depth=k;this.isSimple=1===a.length&&!this.isScoped&&0===k;this.stringModeValue=
this.string};b.AST.PartialNameNode=function(a){this.type="PARTIAL_NAME";this.name=a};b.AST.DataNode=function(a){this.type="DATA";this.id=a};b.AST.StringNode=function(a){this.type="STRING";this.stringModeValue=this.string=a};b.AST.IntegerNode=function(a){this.type="INTEGER";this.integer=a;this.stringModeValue=Number(a)};b.AST.BooleanNode=function(a){this.type="BOOLEAN";this.bool=a;this.stringModeValue="true"===a};b.AST.CommentNode=function(a){this.type="comment";this.comment=a};var m="description fileName lineNumber message name number stack".split(" ");
b.Exception=function(a){for(var e=Error.prototype.constructor.apply(this,arguments),b=0;b<m.length;b++)this[m[b]]=e[m[b]]};b.Exception.prototype=Error();b.SafeString=function(a){this.string=a};b.SafeString.prototype.toString=function(){return this.string.toString()};var v={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r=/[&<>"'`]/g,z=/[&<>"'`]/,A=function(a){return v[a]||"&amp;"};b.Utils={extend:function(a,e){for(var b in e)e.hasOwnProperty(b)&&(a[b]=e[b])},escapeExpression:function(a){if(a instanceof
b.SafeString)return a.toString();if(null==a||!1===a)return"";a=a.toString();return!z.test(a)?a:a.replace(r,A)},isEmpty:function(a){return!a&&0!==a?!0:"[object Array]"===g.call(a)&&0===a.length?!0:!1}};var w=b.Compiler=function(){},q=b.JavaScriptCompiler=function(){};w.prototype={compiler:w,disassemble:function(){for(var a=this.opcodes,e,b=[],d,c,f=0,g=a.length;f<g;f++)if(e=a[f],"DECLARE"===e.opcode)b.push("DECLARE "+e.name+"="+e.value);else{d=[];for(var h=0;h<e.args.length;h++)c=e.args[h],"string"===
typeof c&&(c='"'+c.replace("\n","\\n")+'"'),d.push(c);b.push(e.opcode+" "+d.join(" "))}return b.join("\n")},equals:function(a){var e=this.opcodes.length;if(a.opcodes.length!==e)return!1;for(var b=0;b<e;b++){var d=this.opcodes[b],c=a.opcodes[b];if(d.opcode!==c.opcode||d.args.length!==c.args.length)return!1;for(var f=0;f<d.args.length;f++)if(d.args[f]!==c.args[f])return!1}e=this.children.length;if(a.children.length!==e)return!1;for(b=0;b<e;b++)if(!this.children[b].equals(a.children[b]))return!1;return!0},
guid:0,compile:function(a,e){this.children=[];this.depths={list:[]};this.options=e;var b=this.options.knownHelpers;this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0};if(b)for(var d in b)this.options.knownHelpers[d]=b[d];return this.program(a)},accept:function(a){return this[a.type](a)},program:function(a){a=a.statements;var e;this.opcodes=[];for(var b=0,d=a.length;b<d;b++)e=a[b],this[e.type](e);this.isSimple=1===d;this.depths.list=this.depths.list.sort(function(a,
e){return a-e});return this},compileProgram:function(a){a=(new this.compiler).compile(a,this.options);var e=this.guid++,b;this.usePartial=this.usePartial||a.usePartial;this.children[e]=a;for(var d=0,c=a.depths.list.length;d<c;d++)b=a.depths.list[d],2>b||this.addDepth(b-1);return e},block:function(a){var e=a.mustache,b=a.program;a=a.inverse;b&&(b=this.compileProgram(b));a&&(a=this.compileProgram(a));var d=this.classifyMustache(e);"helper"===d?this.helperMustache(e,b,a):"simple"===d?(this.simpleMustache(e),
this.opcode("pushProgram",b),this.opcode("pushProgram",a),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(e,b,a),this.opcode("pushProgram",b),this.opcode("pushProgram",a),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue"));this.opcode("append")},hash:function(a){a=a.pairs;var e,b;this.opcode("pushHash");for(var d=0,c=a.length;d<c;d++)e=a[d],b=e[1],this.options.stringParams?(b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",
b.stringModeValue,b.type)):this.accept(b),this.opcode("assignToHash",e[0]);this.opcode("popHash")},partial:function(a){var e=a.partialName;this.usePartial=!0;a.context?this.ID(a.context):this.opcode("push","depth0");this.opcode("invokePartial",e.name);this.opcode("append")},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){var e=this.options,b=this.classifyMustache(a);"simple"===b?this.simpleMustache(a):"helper"===b?this.helperMustache(a):this.ambiguousMustache(a);a.escaped&&
!e.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(a,b,c){a=a.id;var d=a.parts[0],g=null!=b||null!=c;this.opcode("getContext",a.depth);this.opcode("pushProgram",b);this.opcode("pushProgram",c);this.opcode("invokeAmbiguous",d,g)},simpleMustache:function(a){a=a.id;"DATA"===a.type?this.DATA(a):a.parts.length?this.ID(a):(this.addDepth(a.depth),this.opcode("getContext",a.depth),this.opcode("pushContext"));this.opcode("resolvePossibleLambda")},helperMustache:function(a,
b,c){b=this.setupFullMustacheParams(a,b,c);a=a.id.parts[0];if(this.options.knownHelpers[a])this.opcode("invokeKnownHelper",b.length,a);else{if(this.options.knownHelpersOnly)throw Error("You specified knownHelpersOnly, but used the unknown helper "+a);this.opcode("invokeHelper",b.length,a)}},ID:function(a){this.addDepth(a.depth);this.opcode("getContext",a.depth);a.parts[0]?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var b=1,c=a.parts.length;b<c;b++)this.opcode("lookup",
a.parts[b])},DATA:function(a){this.options.data=!0;this.opcode("lookupData",a.id)},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:"DECLARE",name:a,value:b})},addDepth:function(a){if(isNaN(a))throw Error("EWOT");0!==a&&!this.depths[a]&&
(this.depths[a]=!0,this.depths.list.push(a))},classifyMustache:function(a){var b=a.isHelper,c=a.eligibleHelper,d=this.options;c&&!b&&(d.knownHelpers[a.id.parts[0]]?b=!0:d.knownHelpersOnly&&(c=!1));return b?"helper":c?"ambiguous":"simple"},pushParams:function(a){for(var b=a.length,c;b--;)if(c=a[b],this.options.stringParams)c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.stringModeValue,c.type);else this[c.type](c)},setupMustacheParams:function(a){var b=
a.params;this.pushParams(b);a.hash?this.hash(a.hash):this.opcode("emptyHash");return b},setupFullMustacheParams:function(a,b,c){var d=a.params;this.pushParams(d);this.opcode("pushProgram",b);this.opcode("pushProgram",c);a.hash?this.hash(a.hash):this.opcode("emptyHash");return d}};var t=function(a){this.value=a};q.prototype={nameLookup:function(a,b){return/^[0-9]+$/.test(b)?a+"["+b+"]":q.isValidJavaScriptVariableName(b)?a+"."+b:a+"['"+b+"']"},appendToBuffer:function(a){return this.environment.isSimple?
"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(a,e,c,d){this.environment=a;this.options=e||{};b.log(b.logger.DEBUG,this.environment.disassemble()+"\n\n");this.name=this.environment.name;this.isChild=!!c;this.context=c||{programs:[],environments:[],aliases:{}};this.preamble();this.stackSlot=0;this.stackVars=[];this.registers={list:[]};this.compileStack=[];
this.inlineStack=[];this.compileChildren(a,e);a=a.opcodes;this.i=0;for(x=a.length;this.i<x;this.i++)e=a[this.i],"DECLARE"===e.opcode?this[e.name]=e.value:this[e.opcode].apply(this,e.args);return this.createFunctionContext(d)},nextOpcode:function(){return this.environment.opcodes[this.i+1]},eat:function(){this.i+=1},preamble:function(){var a=[];if(this.isChild)a.push("");else{var b=this.namespace,c="helpers = helpers || "+b+".helpers;";this.environment.usePartial&&(c=c+" partials = partials || "+b+
".partials;");this.options.data&&(c+=" data = data || {};");a.push(c)}this.environment.isSimple?a.push(""):a.push(", buffer = "+this.initializeBuffer());this.lastContext=0;this.source=a},createFunctionContext:function(a){var e=this.stackVars.concat(this.registers.list);0<e.length&&(this.source[1]=this.source[1]+", "+e.join(", "));if(!this.isChild)for(var c in this.context.aliases)this.source[1]=this.source[1]+", "+c+"="+this.context.aliases[c];this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+
";");this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n");this.environment.isSimple||this.source.push("return buffer;");e=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];c=0;for(var d=this.environment.depths.list.length;c<d;c++)e.push("depth"+this.environment.depths.list[c]);c=this.mergeSource();this.isChild||(d=b.COMPILER_REVISION,c="this.compilerInfo = ["+d+",'"+b.REVISION_CHANGES[d]+"'];\n"+c);if(a)return e.push(c),Function.apply(this,e);
a="function "+(this.name||"")+"("+e.join(",")+") {\n  "+c+"}";b.log(b.logger.DEBUG,a+"\n\n");return a},mergeSource:function(){for(var a="",b,g=0,d=this.source.length;g<d;g++){var h=this.source[g];h.appendToBuffer?b=b?b+"\n    + "+h.content:h.content:(b&&(a+="buffer += "+b+";\n  ",b=c),a+=h+"\n  ")}return a},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);this.replaceStack(function(b){a.splice(1,0,b);return"blockHelperMissing.call("+
a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b);a[a.length-1]="options";this.source.push("if (!"+this.lastHelper+") { "+b+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.source.push(this.appendToBuffer(this.quotedString(a)))},append:function(){this.flushInline();var a=this.popStack();this.source.push("if("+a+" || "+
a+" === 0) { "+this.appendToBuffer(a)+" }");this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression";this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup("depth"+this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+
this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"';this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a})},lookup:function(a){this.replaceStack(function(b){return b+" == null || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")})},lookupData:function(a){this.push(this.nameLookup("data",a,"data"))},pushStringParam:function(a,b){this.pushStackLiteral("depth"+this.lastContext);this.pushString(b);"string"===
typeof a?this.pushString(a):this.pushStackLiteral(a)},emptyHash:function(){this.pushStackLiteral("{}");this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=c;this.options.stringParams&&(this.register("hashContexts","{"+a.contexts.join(",")+"}"),this.register("hashTypes","{"+a.types.join(",")+"}"));this.push("{\n    "+a.values.join(",\n    ")+"\n  }")},
pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){this.inlineStack.push(a);return a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b){this.context.aliases.helperMissing="helpers.helperMissing";var c=this.lastHelper=this.setupHelper(a,b,!0);this.push(c.name);this.replaceStack(function(a){return a+" ? "+a+".call("+c.callParams+") : helperMissing.call("+
c.helperMissingParams+")"})},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(c.name+".call("+c.callParams+")")},invokeAmbiguous:function(a,b){this.context.aliases.functionType='"function"';this.pushStackLiteral("{}");var c=this.setupHelper(0,a,b),d=this.lastHelper=this.nameLookup("helpers",a,"helper"),g=this.nameLookup("depth"+this.lastContext,a,"context"),f=this.nextStack();this.source.push("if ("+f+" = "+d+") { "+f+" = "+f+".call("+c.callParams+"); }");this.source.push("else { "+
f+" = "+g+"; "+f+" = typeof "+f+" === functionType ? "+f+".apply(depth0) : "+f+"; }")},invokePartial:function(a){a=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&a.push("data");this.context.aliases.self="this";this.push("self.invokePartial("+a.join(", ")+")")},assignToHash:function(a){var b=this.popStack(),c,d;this.options.stringParams&&(d=this.popStack(),c=this.popStack());var g=this.hash;c&&g.contexts.push("'"+a+"': "+c);d&&g.types.push("'"+
a+"': "+d);g.values.push("'"+a+"': ("+b+")")},compiler:q,compileChildren:function(a,b){for(var c=a.children,d,g,f=0,h=c.length;f<h;f++){d=c[f];g=new this.compiler;var j=this.matchExistingProgram(d);null==j?(this.context.programs.push(""),j=this.context.programs.length,d.index=j,d.name="program"+j,this.context.programs[j]=g.compile(d,b,this.context),this.context.environments[j]=d):(d.index=j,d.name="program"+j)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;b<c;b++){var d=
this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){this.context.aliases.self="this";if(null==a)return"self.noop";var b=this.environment.children[a];a=b.depths.list;for(var c=[b.index,b.name,"data"],d=0,g=a.length;d<g;d++)b=a[d],1===b?c.push("depth0"):c.push("depth"+(b-1));return(0===a.length?"self.program(":"self.programWithDepth(")+c.join(", ")+")"},register:function(a,b){this.useRegister(a);this.source.push(a+" = "+b+";")},useRegister:function(a){this.registers[a]||
(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new t(a))},pushStack:function(a){this.flushInline();var b=this.incrStack();a&&this.source.push(b+" = "+a+";");this.compileStack.push(b);return b},replaceStack:function(a){var b="",c=this.isInline(),d;c?(d=this.popStack(!0),d instanceof t?d=d.value:(b=this.stackSlot?this.topStackName():this.incrStack(),b="("+this.push(b)+" = "+d+"),",d=this.topStack())):d=this.topStack();a=a.call(this,d);c?((this.inlineStack.length||
this.compileStack.length)&&this.popStack(),this.push("("+b+a+")")):(/^stack/.test(d)||(d=this.nextStack()),this.source.push(d+" = ("+b+a+");"));return d},nextStack:function(){return this.pushStack()},incrStack:function(){this.stackSlot++;this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot);return this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var b=0,c=a.length;b<
c;b++){var d=a[b];d instanceof t?this.compileStack.push(d):this.pushStack(d)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();if(!a&&c instanceof t)return c.value;b||this.stackSlot--;return c},topStack:function(a){var b=this.isInline()?this.inlineStack:this.compileStack,b=b[b.length-1];return!a&&b instanceof t?b.value:b},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,
"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(a,b,c){var d=[];this.setupParams(a,d,c);a=this.nameLookup("helpers",b,"helper");return{params:d,name:a,callParams:["depth0"].concat(d).join(", "),helperMissingParams:c&&["depth0",this.quotedString(b)].concat(d).join(", ")}},setupParams:function(a,b,c){var d=[],g=[],f=[],h,j;d.push("hash:"+this.popStack());h=this.popStack();if((j=this.popStack())||h)j||(this.context.aliases.self="this",j=
"self.noop"),h||(this.context.aliases.self="this",h="self.noop"),d.push("inverse:"+h),d.push("fn:"+j);for(j=0;j<a;j++)h=this.popStack(),b.push(h),this.options.stringParams&&(f.push(this.popStack()),g.push(this.popStack()));this.options.stringParams&&(d.push("contexts:["+g.join(",")+"]"),d.push("types:["+f.join(",")+"]"),d.push("hashContexts:hashContexts"),d.push("hashTypes:hashTypes"));this.options.data&&d.push("data:data");d="{"+d.join(",")+"}";c?(this.register("options",d),b.push("options")):b.push(d);
return b.join(", ")}};h="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" ");for(var j=q.RESERVED_WORDS={},y=0,x=h.length;y<x;y++)j[h[y]]=!0;q.isValidJavaScriptVariableName=
function(a){return!q.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(a)?!0:!1};b.precompile=function(a,c){if(null==a||"string"!==typeof a&&a.constructor!==b.AST.ProgramNode)throw new b.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+a);c=c||{};"data"in c||(c.data=!0);var g=b.parse(a),g=(new w).compile(g,c);return(new q).compile(g,c)};b.compile=function(a,e){if(null==a||"string"!==typeof a&&a.constructor!==b.AST.ProgramNode)throw new b.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+
a);e=e||{};"data"in e||(e.data=!0);var g;return function(d,h){if(!g){var f=b.parse(a),f=(new w).compile(f,e),f=(new q).compile(f,e,c,!0);g=b.template(f)}return g.call(this,d,h)}};b.VM={template:function(a){var c={escapeExpression:b.Utils.escapeExpression,invokePartial:b.VM.invokePartial,programs:[],program:function(a,c,e){var f=this.programs[a];e?f=b.VM.program(a,c,e):f||(f=this.programs[a]=b.VM.program(a,c));return f},programWithDepth:b.VM.programWithDepth,noop:b.VM.noop,compilerInfo:null};return function(g,
d){d=d||{};var h=a.call(c,b,g,d.helpers,d.partials,d.data),f=c.compilerInfo||[],j=f[0]||1,m=b.COMPILER_REVISION;if(j!==m){if(j<m)throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+b.REVISION_CHANGES[m]+") or downgrade your runtime to an older version ("+b.REVISION_CHANGES[j]+").";throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+
f[1]+").";}return h}},programWithDepth:function(a,b,c){var d=Array.prototype.slice.call(arguments,3),g=function(a,g){g=g||{};return b.apply(this,[a,g.data||c].concat(d))};g.program=a;g.depth=d.length;return g},program:function(a,b,c){var d=function(a,d){d=d||{};return b(a,d.data||c)};d.program=a;d.depth=0;return d},noop:function(){return""},invokePartial:function(a,e,g,d,h,f){d={helpers:d,partials:h,data:f};if(a===c)throw new b.Exception("The partial "+e+" could not be found");if(a instanceof Function)return a(g,
d);if(b.compile)return h[e]=b.compile(a,{data:f!==c}),h[e](g,d);throw new b.Exception("The partial "+e+" could not be compiled when running in runtime-only mode");}};b.template=b.VM.template})(Handlebars);wApp={router:{params:{body:{}},parse_params:function(b){for(var c=b.length;c--;){var g=b[c].split("=");this.params[g[0]]=g[1].replace(/\+/g," ")}},routes:{},addRoutes:function(b){for(var c=Object.keys(b),g=c.length;g--;)if("resource"==c[g].split(" ")[0]){var h=this.createREST(c[g].split(" ")[1]);this.addRoutes(h)}else{var h={},j=c[g];h[j]=b[j];this.routes[j.replace(/:\w+/g,"(\\w+)")]=h}},createREST:function(b){var c={};c["GET /"+b]=b+"Controller#index";c["GET /"+b+"/new"]=b+"Controller#new";c["POST /"+
b]=b+"Controller#create";c["GET /"+b+"/:id"]=b+"Controller#show";c["GET /"+b+"/:id/edit"]=b+"Controller#edit";c["PUT /"+b+"/:id"]=b+"Controller#update";c["DELETE /"+b+"/:id"]=b+"Controller#delete";return c},pointRequest:function(b){keys=Object.keys(this.routes);for(var c=keys.length;c--;){var g=RegExp(keys[c].replace(/\//g,"\\/")+"/?$","i");if(b.match(g)){var c=this.routes[keys[c]],h=Object.keys(c)[0],j=h.match(/:(\w+)/g);if(j){b=b.match(g);b.shift();for(g=j.length;g--;){var m=j[g];this.params[m.replace(":",
"")]=b[j.indexOf(m)]}}return c[h]}}return"NOT FOUND"}},session:{cookie_name:"v7App",cookie:{session:{}},session:{},changed:!1,set:function(b,c){this.changed=!0;this.session[b]=c;return!0},get:function(b){return this.session[b]},setInHeader:function(){var b,c;0!==Object.keys(this.session).length&&(b=this.session.expires,c=this.session.path,delete this.session.expires,delete this.session.path,encoded=Base64.encode(encodeURIComponent(JSON.stringify(this.session))));var g=this.cookie_name+"="+encoded;
void 0!==b&&(g+="; expires="+b.toGMTString());void 0!==c&&(g+="; path="+c);return"set-Cookie: "+g},getFromHeader:function(b){var c={},g=wApp.cookie_name;if(b=b.match(RegExp(wApp.cookie_name+"=(\\w+)\\;?")))c[g]=b[1],c.session=JSON.parse(decodeURIComponent(Base64.decode(c[g]))),this.cookie=c,this.session=c.session;return c[g]}},params:function(){return this.router.params},request:Request,response:Response,logError:logError,getHTML:getHTML};
function http_parser(b){b=b.split("\r\n\r\n");for(var c=b[0].match(/^(GET|POST|PUT|DELETE|UPDATE) (.+) (.+)[\r\n]?/),g=b[0].replace(/^(GET|POST|PUT|DELETE|UPDATE) (.+) (.+)[\r\n]?/,""),h=/(.+): (.+)/g,j=/([^&]+)=([^&]+)/g,m=c[2].split("?"),c={verb:c[1],path:c[2],protocol:c[3],url:m[0],encodeParams:m[1],decodeParams:{},headers:{},body:{},bodyDecoded:{},cookie:""};header=h.exec(g);)c.headers[header[1]]=header[2];g=decodeURIComponent(c.encodeParams).replace(/\+/g," ");if(c.encodeParams)for(;param=j.exec(g);)c.decodeParams[param[1]]=
param[2];if(2==b.length)for(g=c.body=decodeURIComponent(b[1].trim().replace(/\+/g," "));body=j.exec(g);)c.bodyDecoded[body[1]]=body[2];return c}function Request(b){b=http_parser(b);wApp.router.params=b.decodeParams;wApp.router.params.body=b.bodyDecoded;void 0!==b.headers.Cookie&&wApp.session.getFromHeader(b.headers.Cookie);return b}var BasicHeaders=["Server: Velneo v7","transfer-coding: chunked","Keep-Alive: timeout=5, max=94","Connection: Keep-Alive"];
function Response(b){try{var c=wApp.router.pointRequest(b.verb+" "+b.url);if("NOT FOUND"!=c){var g=c.split("#");return renderResponse(g[0],g[1],wApp,b.headers.Accept)}return"HTTP/1.0 404 NOT FOUND"}catch(h){return b=logError(h),renderErrorResponse(h,b)}}
function renderResponse(b,c,g,h){var j=g[b][c](g.router.params);switch(!0){case /json/i.test(h):b=Engine.json(j,g,b,c);break;case /html/i.test(h):b=Engine.html(j,g,b,c);break;default:b=Engine.json(j,g,b,c)}c=["Date: "+(new Date).toGMTString(),"Content-Length: "+(b.body?b.body.length:"0")];c=c.concat(BasicHeaders).concat(b.headers);wApp.session.changed&&c.push(wApp.session.setInHeader());return"HTTP/1.1 200 OK\r\n"+c.join("\r\n")+"\r\n\r\n"+b.body}
var Engine={json:function(b,c){var g=c.router.params.callback;b=g?g+"("+JSON.stringify(b)+")":JSON.stringify(b);b=unescape(encodeURIComponent(b));return{body:b,headers:["Content-Type: application/"+(g?"javascript":"json")+"; charset=utf-8"]}},html:function(b,c,g,h){c="views/"+g.replace("Controller","")+"/"+h;c=getHTML(c);return{body:"template"==c.type?Handlebars.compile(c.html)(b):c.html,headers:["Content-Type: text/html; charset=utf-8"]}}};
function getHTML(b){var c=new VRegisterList(theRoot);c.setTable("cirrusdat/FILES");c.load("NAME",[b]);0<c.listSize()?(c=c.readAt(0),b=c.fieldToString("BODY"),c="1"==c.fieldToString("TIPO")?"html":"template"):(c.load("NAME",["NOT_VIEW"]),b=c.readAt(0).fieldToString("BODY"),c="html");return{html:b,type:c}}function logError(b){return void 0===b.lineNumber?b.message:b.message+". In Line Number: "+b.lineNumber}
function renderErrorResponse(b,c){var g=wApp.router.params.callback,h={message:c},h=g?g+"("+JSON.stringify(h)+")":JSON.stringify(h),h=unescape(encodeURIComponent(h));return"HTTP/1.0 500  INTERNAL SERVER ERROR\r\n"+BasicHeaders.join("\r\n")+"\r\n\r\n"+h}
